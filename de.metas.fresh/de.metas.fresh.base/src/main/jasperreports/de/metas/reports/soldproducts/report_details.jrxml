<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.2.2.final using JasperReports Library version 6.2.2  -->
<!-- 2016-11-17T13:16:38 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report" pageWidth="782" pageHeight="842" columnWidth="782" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="c4b7cffc-55c2-40c0-a517-92fd316bc693">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="metasfresh"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="M_Product_ID" class="java.math.BigDecimal">
		<defaultValueExpression><![CDATA[new BigDecimal(1)]]></defaultValueExpression>
	</parameter>
	<parameter name="M_Product_ID2" class="java.lang.String"/>
	<parameter name="M_Product_ID3" class="java.lang.String"/>
	<parameter name="M_Product_ID4" class="java.lang.String"/>
	<parameter name="C_BPartner_ID" class="java.math.BigDecimal">
		<defaultValueExpression><![CDATA[new BigDecimal(1)]]></defaultValueExpression>
	</parameter>
	<parameter name="bis_Value" class="java.lang.String"/>
	<parameter name="von_Datum" class="java.util.Date"/>
	<parameter name="bis_Datum" class="java.util.Date"/>
	<parameter name="AD_Org_ID" class="java.math.BigDecimal" isForPrompting="false">
		<defaultValueExpression><![CDATA[new BigDecimal(1)]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT	
	(SELECT name FROM ad_org WHERE ad_org_id = $P{AD_Org_ID})AS org_name,
	bp.value as kundennr,
	bp.name as kundenname,
	p.value as produktnr,
	p.name as produktname, 
	sum(il.qtyinvoiced) as menge
FROM 
	c_invoice i
	JOIN c_invoiceline il 	ON i.c_invoice_id = il.c_invoice_id
	JOIN m_product p 	ON p.m_product_id = il.m_product_id
	JOIN c_bpartner bp 	ON bp.c_bpartner_id = i.c_bpartner_id
WHERE	
	p.M_Product_ID::text like $P{M_Product_ID} || '%'
	AND il.ad_client_id = 1000000
	AND bp.C_BPartner_ID::text like $P{C_BPartner_ID} || '%'
	AND i.dateinvoiced >= $P{von_Datum} 	AND i.dateinvoiced <= $P{bis_Datum}
	AND i.ad_org_id = $P{AD_Org_ID}
GROUP BY
	bp.value, bp.name, p.value, p.name
ORDER BY
	bp.value, p.name
;]]>
	</queryString>
	<field name="org_name" class="java.lang.String"/>
	<field name="kundennr" class="java.lang.String"/>
	<field name="kundenname" class="java.lang.String"/>
	<field name="produktnr" class="java.lang.String"/>
	<field name="produktname" class="java.lang.String"/>
	<field name="menge" class="java.math.BigDecimal"/>
	<variable name="kunde_sum" class="java.math.BigDecimal" resetType="Group" resetGroup="Kunde" calculation="Sum">
		<variableExpression><![CDATA[$F{menge}]]></variableExpression>
	</variable>
	<variable name="total_sum" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{menge}]]></variableExpression>
	</variable>
	<group name="Kunde">
		<groupExpression><![CDATA[$F{kundennr}]]></groupExpression>
		<groupHeader>
			<band splitType="Stretch"/>
		</groupHeader>
		<groupFooter>
			<band height="11" splitType="Stretch">
				<staticText>
					<reportElement key="staticText-24" x="662" y="0" width="36" height="11" uuid="552daf2b-8d9b-4898-91fb-0affb8f92e05"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font size="8"/>
					</textElement>
					<text><![CDATA[Summe]]></text>
				</staticText>
				<textField isBlankWhenNull="false">
					<reportElement key="textField-6" x="698" y="0" width="25" height="11" uuid="01568bcf-8d0b-4778-893d-9466a07c41b0"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{kunde_sum}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="662" y="0" width="61" height="1" uuid="3b7a4532-0a80-45ee-9403-499738ed327a"/>
				</line>
			</band>
		</groupFooter>
	</group>
	<group name="Zeile">
		<groupHeader>
			<band height="8"/>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="16" splitType="Stretch">
			<rectangle>
				<reportElement key="rectangle-1" x="0" y="0" width="782" height="16" backcolor="#808080" uuid="510112eb-9506-48f4-b82f-a2b2801c3386"/>
				<graphicElement>
					<pen lineWidth="0.0" lineStyle="Solid"/>
				</graphicElement>
			</rectangle>
			<staticText>
				<reportElement key="staticText-9" x="2" y="0" width="61" height="16" forecolor="#FFFFFF" uuid="986e6f99-490a-4c14-924d-18bd69540549"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[Kundennr.]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-10" x="73" y="0" width="179" height="16" forecolor="#FFFFFF" uuid="4f435c44-17e1-430e-a101-19f795fa191c"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[Kundenname]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-11" x="262" y="0" width="61" height="16" forecolor="#FFFFFF" uuid="8e9a8fc4-b706-41bf-a196-3cf5447d9666"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[Artikelnr.]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-13" x="333" y="0" width="179" height="16" forecolor="#FFFFFF" uuid="06aa0eb3-4325-499b-860b-03e26a78c404"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[Artikelname]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-14" x="662" y="0" width="61" height="16" forecolor="#FFFFFF" uuid="2b7f32c1-68db-479f-9418-a13a27264943"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font size="9"/>
				</textElement>
				<text><![CDATA[Menge]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="11" splitType="Stretch">
			<rectangle>
				<reportElement key="rectangle-2" x="0" y="0" width="782" height="11" backcolor="#FFFFCC" uuid="d8c279de-c1ee-4efd-af05-e108f2836617">
					<printWhenExpression><![CDATA[new java.lang.Boolean(($V{Zeile_COUNT}.intValue()%2)==0)]]></printWhenExpression>
				</reportElement>
				<graphicElement>
					<pen lineWidth="0.0" lineStyle="Solid"/>
				</graphicElement>
			</rectangle>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-3" x="262" y="0" width="61" height="11" uuid="05961645-b0d6-49dc-95f1-12e3def275f8"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{produktnr}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-4" x="333" y="0" width="179" height="11" uuid="9148a061-e47a-4f73-8e19-44d17e021fb3"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{produktname}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-5" x="698" y="0" width="25" height="11" uuid="bacff1c0-7718-4d20-a5fd-abe242fa7eac"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{menge}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="2" y="0" width="61" height="11" uuid="5caf9bbc-bc11-4035-8b12-4e5271190111"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{kundennr}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="73" y="0" width="179" height="11" uuid="0ffa4353-7e34-4c72-be9c-250ef19c012c"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{kundenname}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="13" splitType="Stretch">
			<rectangle>
				<reportElement key="rectangle-3" x="0" y="0" width="782" height="13" backcolor="#808080" uuid="61584c4a-2549-4c0b-8d89-a20ad954ad12"/>
				<graphicElement>
					<pen lineWidth="0.0" lineStyle="Solid"/>
				</graphicElement>
			</rectangle>
		</band>
	</pageFooter>
	<lastPageFooter>
		<band height="9"/>
	</lastPageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
